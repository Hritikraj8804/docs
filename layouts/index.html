{{ define "main" }}
<div class="container main-content">
    <!-- Terminal-style intro -->
    <div class="terminal">
        <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
            <span class="terminal-title">~/portfolio — bash</span>
        </div>
        <div class="terminal-body">
            <div class="terminal-line">
                <span class="terminal-prompt">$ </span>
                <span class="terminal-command">whoami</span>
            </div>
            <div class="terminal-line terminal-output">
                > {{ .Site.Params.author | default "Your Name" }} — DevOps Engineer & Open Source Contributor
            </div>
            <div class="terminal-line">
                <span class="terminal-prompt">$ </span>
                <span class="terminal-command">cat skills.txt</span>
            </div>
            <div class="terminal-line terminal-output">
                > Kubernetes | Terraform | Go | Python | CI/CD | Docker
            </div>
            <div class="terminal-line">
                <span class="terminal-prompt">$ </span>
                <span class="terminal-command">cat mission.txt</span>
            </div>
            <div class="terminal-line terminal-output">
                > Building reliable infrastructure and sharing knowledge through code
            </div>
        </div>
    </div>

    <!-- Featured Projects -->
    <section>
        <h2>Featured Projects</h2>
        <div class="card-grid">
            {{ range (where .Site.RegularPages "Params.featured" true) }}
            <article class="card">
                <span class="project-month">{{ .Date.Format "Jan" }}</span>
                {{ if .Params.link }}<span class="live-indicator" style="top: var(--space-md); right: var(--space-md);"
                    title="Live Project Available"></span>{{ end }}
                <h3 class="card-title">
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                </h3>
                <p class="card-description">{{ .Params.description | default .Summary | truncate 120 }}</p>
                <div class="card-meta">
                    <div class="card-tags">
                        {{ with .Params.tags }}{{ range first 3 . }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}{{ end }}
                    </div>

                </div>
            </article>
            {{ end }}
        </div>
        <p style="text-align: center;">
            <a href="/projects/" class="btn btn-secondary">View All Projects →</a>
        </p>
    </section>

    <!-- Latest Lab Notes -->
    <section style="margin-top: var(--space-3xl);">
        <h2>Latest Lab Notes</h2>
        {{ $labNotes := .Site.GetPage "/lab-notes" }}
        {{ if $labNotes.Params.blogs }}
        {{ range first 2 $labNotes.Params.blogs }}
        <a href="{{ .link }}" target="_blank" rel="noopener" style="text-decoration: none;">
            <article class="feed-item"
                style="position: relative; transition: all var(--transition-base); padding: var(--space-md); border-radius: var(--radius-md);">
                <style>
                    .feed-item:hover {
                        background: var(--accent-dim);
                        transform: translateX(5px);
                    }

                    .feed-item:hover .feed-title {
                        text-decoration: underline;
                    }
                </style>
                <span class="feed-marker">▸</span>
                <div class="feed-content">
                    <h4 class="feed-title"
                        style="margin: 0; color: var(--text-primary); transition: color var(--transition-fast);">{{
                        .title }}</h4>
                    <p class="feed-excerpt" style="margin: 0.25rem 0 0 0; font-size: 0.9rem; color: var(--text-muted);">
                        {{ .summary | truncate 100 }}</p>
                </div>
            </article>
        </a>
        {{ end }}
        {{ end }}
        <p style="text-align: center; margin-top: var(--space-lg);">
            <a href="/lab-notes/" class="btn btn-ghost">Read All Notes →</a>
        </p>
    </section>
</div>
{{ end }}