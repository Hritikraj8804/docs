{{ define "main" }}
<div class="container main-content">
    <div class="page-hero">
        <h1>{{ .Title }}</h1>
        <p class="page-subtitle">Contributing to the projects I use and love</p>
    </div>

    <!-- Programs & Events -->
    <div class="os-programs">
        <h3 class="os-section-title">ğŸ† Programs & Events</h3>
        <div class="os-badges">
            <div class="os-badge hacktoberfest">
                <span class="os-badge-icon">ğŸƒ</span>
                <span class="os-badge-text">Hacktoberfest 2023</span>
            </div>
            <div class="os-badge hacktoberfest">
                <span class="os-badge-icon">ğŸƒ</span>
                <span class="os-badge-text">Hacktoberfest 2024</span>
            </div>
            <div class="os-badge gssoc">
                <span class="os-badge-icon">ğŸ‘©â€ğŸ’»</span>
                <span class="os-badge-text">GSSoC</span>
            </div>
            <div class="os-badge ssoc">
                <span class="os-badge-icon">â˜€ï¸</span>
                <span class="os-badge-text">Social Summer of Code</span>
            </div>
            <div class="os-badge swoc">
                <span class="os-badge-icon">â„ï¸</span>
                <span class="os-badge-text">Social Winter of Code</span>
            </div>
            <div class="os-badge jwoc">
                <span class="os-badge-icon">ğŸ”ï¸</span>
                <span class="os-badge-text">JGEC Winter of Code</span>
            </div>
            <div class="os-badge kwoc">
                <span class="os-badge-icon">ğŸ“</span>
                <span class="os-badge-text">Kharagpur Winter of Code</span>
            </div>
        </div>
    </div>

    <!-- Stats Bar -->
    {{ $merged := where .Pages "Params.status" "merged" }}

    <div class="os-stats-bar">
        <span class="os-stat">âœ… {{ len $merged }} PRs Merged</span>
        <span class="os-stat-divider">â€¢</span>
        <span class="os-stat">ğŸ“¦ 1 Project</span>
        <span class="os-stat-divider">â€¢</span>
        <span class="os-stat">ğŸ“… 2023 - {{ now.Format "2006" }}</span>
    </div>

    <!-- Contributions Section -->
    <div class="os-project-section">
        <h3 class="os-project-title">
            <span class="os-project-icon">ğŸ“¦</span> Kestra
        </h3>
        <div class="os-contributions-grid">
            {{ range .Pages.ByDate.Reverse }}
            <article class="os-card">
                <div class="os-card-header">
                    <span class="os-icon">ğŸ”€</span>
                    <span class="os-status {{ .Params.status | default " open" }}">
                        {{ if eq .Params.status "merged" }}âœ… Merged
                        {{ else if eq .Params.status "closed" }}âŒ Closed
                        {{ else }}ğŸ”µ Open{{ end }}
                    </span>
                </div>

                <h4 class="os-title">
                    <a href="{{ .Params.prLink | default .Permalink }}" target="_blank" rel="noopener">
                        {{ .Title }}
                    </a>
                </h4>

                <div class="os-repo">
                    {{ .Params.repo }} â€¢ #{{ .Params.prNumber | default "---" }}
                </div>

                <p class="os-description">{{ .Params.description | default (.Summary | truncate 120) }}</p>

                <div class="os-card-footer">
                    <div class="os-tags">
                        {{ with .Params.tags }}{{ range first 3 . }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}{{ end }}
                    </div>
                    <span class="os-date">{{ .Date.Format "Jan 2006" }}</span>
                </div>
            </article>
            {{ end }}
        </div>
    </div>

    <!-- Empty State -->
    {{ if eq (len .Pages) 0 }}
    <div class="os-empty-state">
        <p>ğŸš€ Contributions coming soon...</p>
    </div>
    {{ end }}
</div>
{{ end }}