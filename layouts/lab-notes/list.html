{{ define "main" }}
<div class="container main-content">
    <div class="page-hero">
        <h1>{{ .Title }}</h1>
        <p class="page-subtitle">{{ .Description | default "Technical blogs, tutorials, and curated playlists" }}</p>
    </div>

    <!-- PLAYLISTS SECTION -->
    {{ if .Params.playlists }}
    <section class="lab-section">
        <div class="section-header">
            <h2 class="section-heading">ğŸ“š Playlists</h2>
            <p class="section-desc">Curated blog series covering topics in-depth</p>
        </div>
        <div class="cards-grid">
            {{ range .Params.playlists }}
            <a href="{{ .link }}" target="_blank" rel="noopener" class="lab-card">
                <div class="lab-card-icon">{{ .icon | default "ğŸ“–" }}</div>
                <div class="lab-card-content">
                    <h3 class="lab-card-title">{{ .title }}</h3>
                    <p class="lab-card-desc">{{ .description }}</p>
                    <div class="lab-card-meta">
                        {{ with .platform }}
                        <span class="platform-badge platform-{{ . | urlize }}">{{ . }}</span>
                        {{ end }}
                        {{ with .tags }}
                        <div class="lab-card-tags">
                            {{ range first 2 . }}<span class="tag-sm">{{ . }}</span>{{ end }}
                        </div>
                        {{ end }}
                    </div>
                </div>
                <span class="lab-card-arrow">â†—</span>
            </a>
            {{ end }}
        </div>
    </section>

    <hr class="section-divider">
    {{ end }}

    <!-- BLOGS SECTION -->
    {{ if .Params.blogs }}
    <section class="lab-section">
        <div class="section-header">
            <h2 class="section-heading">ğŸ“ Blogs</h2>
            <p class="section-desc">Standalone articles and technical notes</p>
        </div>
        <div class="cards-grid">
            {{ range .Params.blogs }}
            <a href="{{ .link }}" target="_blank" rel="noopener" class="lab-card lab-card-blog">
                <div class="lab-card-content">
                    <div class="lab-card-header">
                        <span class="lab-card-date">{{ if reflect.IsMap . }}{{ .date }}{{ else }}{{ .date | time.Format
                            "Jan 02, 2006" }}{{ end }}</span>
                        {{ with .platform }}
                        <span class="platform-badge platform-{{ . | urlize }}">{{ . }}</span>
                        {{ end }}
                    </div>
                    <h3 class="lab-card-title">{{ .title }}</h3>
                    <p class="lab-card-desc">{{ .summary | truncate 120 }}</p>
                    <div class="lab-card-meta">
                        {{ with .tags }}
                        <div class="lab-card-tags">
                            {{ range first 3 . }}<span class="tag-sm">{{ . }}</span>{{ end }}
                        </div>
                        {{ end }}
                    </div>
                </div>
                <span class="lab-card-arrow">â†—</span>
            </a>
            {{ end }}
        </div>
    </section>
    {{ end }}

    {{ if and (not .Params.playlists) (not .Params.blogs) }}
    <div class="empty-state" style="text-align: center; padding: 4rem 0; color: var(--text-muted);">
        <p style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“</p>
        <p>Lab notes coming soon...</p>
    </div>
    {{ end }}
</div>
{{ end }}