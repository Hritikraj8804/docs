{{ define "main" }}
<div class="container main-content">
    <div class="page-hero">
        <h1>{{ .Title }}</h1>
        <p class="page-subtitle">{{ .Description | default "Technical blogs, tutorials, and curated playlists" }}</p>
    </div>

    <!-- PLAYLISTS SECTION -->
    <section class="lab-section">
        <div class="section-header">
            <h2 class="section-heading">ğŸ“š Playlists</h2>
            <p class="section-desc">Curated blog series covering topics in-depth</p>
        </div>
        <div class="cards-grid">
            {{ range where .Sections "Params.type" "playlist" }}
            <a href="{{ .Params.link }}" target="_blank" rel="noopener" class="lab-card">
                <div class="lab-card-icon">{{ .Params.icon | default "ğŸ“–" }}</div>
                <div class="lab-card-content">
                    <h3 class="lab-card-title">{{ .Title }}</h3>
                    <p class="lab-card-desc">{{ .Params.description }}</p>
                    <div class="lab-card-meta">
                        {{ with .Params.platform }}
                        <span class="platform-badge platform-{{ . | urlize }}">{{ . }}</span>
                        {{ end }}
                        {{ with .Params.tags }}
                        <div class="lab-card-tags">
                            {{ range first 2 . }}<span class="tag-sm">{{ . }}</span>{{ end }}
                        </div>
                        {{ end }}
                    </div>
                </div>
                <span class="lab-card-arrow">â†—</span>
            </a>
            {{ else }}
            <p style="color: var(--text-muted); grid-column: 1/-1;">No playlists yet.</p>
            {{ end }}
        </div>
    </section>

    <hr class="section-divider">

    <!-- BLOGS SECTION -->
    <section class="lab-section">
        <div class="section-header">
            <h2 class="section-heading">ğŸ“ Blogs</h2>
            <p class="section-desc">Standalone articles and technical notes</p>
        </div>
        <div class="cards-grid">
            {{ range .RegularPages.ByDate.Reverse }}
            <a href="{{ .Params.link }}" target="_blank" rel="noopener" class="lab-card lab-card-blog">
                <div class="lab-card-content">
                    <div class="lab-card-header">
                        <span class="lab-card-date">{{ .Date.Format "Jan 02, 2006" }}</span>
                        {{ with .Params.platform }}
                        <span class="platform-badge platform-{{ . | urlize }}">{{ . }}</span>
                        {{ end }}
                    </div>
                    <h3 class="lab-card-title">{{ .Title }}</h3>
                    <p class="lab-card-desc">{{ .Summary | truncate 120 }}</p>
                    <div class="lab-card-meta">
                        {{ with .Params.tags }}
                        <div class="lab-card-tags">
                            {{ range first 3 . }}<span class="tag-sm">{{ . }}</span>{{ end }}
                        </div>
                        {{ end }}
                    </div>
                </div>
                <span class="lab-card-arrow">â†—</span>
            </a>
            {{ else }}
            <p style="color: var(--text-muted); grid-column: 1/-1;">No blogs yet.</p>
            {{ end }}
        </div>
    </section>
</div>
{{ end }}